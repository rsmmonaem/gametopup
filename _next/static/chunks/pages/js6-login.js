(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{7156:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return r(1502)}])},5795:function(e,n,r){"use strict";var t=r(5893),s=r(7294),a=r(5155),l=r(782),o=r(4950),i=r(4811),c=r(6097),u=r(4779),d=r(2077);n.Z=function(e){var n=e.className,r=e.showToast,m=e.messageKey,f=e.type,b=void 0===f?"success":f,h=e.disabledCloseButton,v=m||i.QA,x=(0,s.useState)((0,u.Gg)(v)),g=x[0],p=x[1],j=function(e){(0,u.Z3)(v),e&&p(null)};return setTimeout((function(){j()}),1500),(0,s.useEffect)((function(){r&&g&&l.Am.success(g,c.Z)}),[]),(0,t.jsx)(t.Fragment,{children:g&&!r?(0,t.jsx)("div",{className:n||"",children:(0,t.jsx)(o.Z,{type:b,title:g,action:!h&&(0,t.jsx)(d.Z,{onClick:function(){return j(!0)},className:"small green outlined",StartIcon:(0,t.jsx)(a.nfZ,{size:10})})})}):null})}},6097:function(e,n){"use strict";n.Z={position:"bottom-right",autoClose:6e3,hideProgressBar:!0}},1502:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return C}});var t=r(5893),s=r(2175),a=r(9008),l=r(1664),o=r(1163),i=r(7294),c=r(3645),u=r.n(c),d=r(4231),m=r(3513),f=r(4950),b=r(2077),h=r(1907),v=r(5795),x=r(9264);function g(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function p(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){g(e,n,r[n])}))}return e}function j(e,n){if(null==e)return{};var r,t,s=function(e,n){if(null==e)return{};var r,t,s={},a=Object.keys(e);for(t=0;t<a.length;t++)r=a[t],n.indexOf(r)>=0||(s[r]=e[r]);return s}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)r=a[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}var w=function(e){e.indeterminate;var n=e.className,r=e.name,a=e.value,l=(e.onChange,e.label),o=e.disabledErrorMessage,i=j(e,["indeterminate","className","name","value","onChange","label","disabledErrorMessage"]);if(!r)throw new Error("name is required");if(!a)throw new Error("value is required");var c=(0,s.u6)(),u=c.errors,d=c.touched,m=u[r]&&d[r];return(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)(s.gN,p({type:"checkbox",name:r,value:a,component:y,className:n,label:l,isError:m},i)),!o&&(0,t.jsx)(x.Z,{name:r})]})},y=function(e){var n=e.field,r=(e.form,e.className),s=e.label,a=e.isError,l=j(e,["field","form","className","label","isError"]);return(0,t.jsxs)("label",{className:"flex items-center cursor-pointer ".concat(r||""),children:[(0,t.jsxs)("label",{className:"_checkbox bounce",style:a&&{"--border":"red","--border-hover":"red"},children:[(0,t.jsx)("input",p({},n,l)),(0,t.jsxs)("div",{className:"checkbox_icon_wrapper",children:[(0,t.jsx)("svg",{viewBox:"0 0 21 21",className:"checked_svg",children:(0,t.jsx)("polyline",{points:"5 10.75 8.5 14.25 16 6"})}),(0,t.jsx)("svg",{viewBox:"0 0 1024 1024",className:"indeterminate_svg",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{fill:"#fff",d:"M904 476H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"})})]})]}),s&&(0,t.jsx)("span",{className:"ml-3 inline-block _subtitle2 select-none leading-[14px] ".concat(a?"text-red-600":""),children:s})]})},_=r(2082),N=r(4811),O=r(7537),k=r(8604),Z=r(8313);function E(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}var P={email:"",password:"",rememberMe:["rememberMe"]},S=d.Ry().shape({email:d.Z_().required().email().trim().lowercase().label("Email"),password:d.Z_().required().label("Password")});var C=function(){var e,n=(0,i.useContext)(Z.globalContext).saveAuthUser,r=(0,i.useState)(!1),c=r[0],d=r[1],x=(0,i.useState)(!1),g=x[0],p=x[1],j=(0,o.useRouter)(),y=null===j||void 0===j||null===(e=j.query)||void 0===e?void 0:e[N.ly];return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.default,{children:(0,t.jsxs)("title",{children:["Login ",N.OA]})}),(0,t.jsx)("div",{className:"container",children:(0,t.jsxs)("div",{className:"w-full sm:w-[400px] relative _form_wrapper",children:[c&&(0,t.jsx)("div",{className:"_absolute_full"}),(0,t.jsx)("h3",{className:"_h3",children:"Login"}),(0,t.jsxs)("div",{className:"relative !mt-7",children:[c&&(0,t.jsx)("div",{className:"_absolute_full _flex_center bg-white/75",children:(0,t.jsx)(h.Z,{size:20,className:"text-primary-500"})}),(0,t.jsx)(u(),{onRequest:function(){d(!0),p(null)},clientId:"551937735612-odei9u5tjd1hp5ckaaogfsa4bs6oi4hg.apps.googleusercontent.com",buttonText:"Login with Google",onSuccess:function(e){var r=e.getAuthResponse();m.ZP.post("/google-signup",{idToken:null===r||void 0===r?void 0:r.id_token}).then((function(e){var r,t=null===e||void 0===e||null===(r=e.data)||void 0===r?void 0:r.data,s=t.user,a=t.token;n(s,a,!0)})).catch((function(e){d(!1),p((0,k.FU)(e))}))},onFailure:function(e){p("Something went wrong. Try again"),d(!1)},className:"w-full !rounded-full block _flex_center !shadow-none !text-gray-600 !border !border-gray-200 hover:!border-gray-400 !duration-150 focus:!bg-white"})]}),(0,t.jsxs)("div",{className:"mt-5",children:[(0,t.jsx)(s.J9,{initialValues:P,validationSchema:S,onSubmit:function(e,r){var t=r.setSubmitting;t(!1),d(!0),p(!1);var s=1===e.rememberMe.length?1:0;m.ZP.post("/login",function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){E(e,n,r[n])}))}return e}({},e,{remember:s})).then((function(e){var r,t=null===e||void 0===e||null===(r=e.data)||void 0===r?void 0:r.data,a=t.user,l=t.token;n(a,l,s,y)})).catch((function(e){p((0,k.FU)(e))})).finally((function(){d(!1),t(!0)}))},children:function(e){var n=e.handleSubmit;return(0,t.jsxs)("form",{className:"flex flex-col gap-4",children:[(0,t.jsx)(v.Z,{type:"success",disabledCloseButton:!0,messageKey:"_changed_password_success"}),(0,t.jsx)(v.Z,{type:"error",disabledCloseButton:!0}),g&&(0,t.jsx)(f.Z,{type:"error",title:g}),(0,t.jsx)(_.Z,{name:"email",type:"email",label:"Email",placeholder:"Email"}),(0,t.jsx)(_.Z,{name:"password",type:"password",label:"Password",placeholder:"Password"}),(0,t.jsxs)("div",{className:"flex justify-between items-start gap-2 flex-wrap",children:[(0,t.jsx)(w,{name:"rememberMe",value:"rememberMe",label:"Remember me"}),(0,t.jsx)(l.default,{href:O.Z.forgotPassword.name,children:(0,t.jsx)("a",{className:"_subtitle2 _link",children:"Forgot password?"})})]}),(0,t.jsx)(b.Z,{loading:c,onClick:n,type:"submit",className:"w-full",children:"Login"})]})}}),(0,t.jsx)("div",{className:"flex justify-center mt-3.5",children:(0,t.jsxs)("p",{className:"_subtitle2",children:["Don't have any account?",(0,t.jsx)(l.default,{href:"".concat(O.Z.register.name).concat((0,k.u)(j)),children:(0,t.jsx)("a",{className:"_subtitle2 _link ml-1.5",children:"Create One"})})]})})]})]})})]})}}},function(e){e.O(0,[158,141,90,774,888,179],(function(){return n=7156,e(e.s=n);var n}));var n=e.O();_N_E=n}]);